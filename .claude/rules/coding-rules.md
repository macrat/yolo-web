---
paths:
  - src/**/*
---

# コーディング原則

品質を最大限に保ち、事故を最小限に抑えるために、以下のコーディング原則を遵守する。
すべてはエンドユーザーにとっての価値を最大化することを目的としている。

## 1. 静的最優先、クライアント優先、サーバーは必要に応じて

- 静的コンテンツとビルド時生成を優先する
- コンパクトな機能であれば、速度のためにクライアントサイドで実装する
- 複雑な機能やバンドルサイズが大きくなる機能は、必要に応じてサーバーコンポーネントやAPIルートで実装する

## 2. ユーザーアカウント・データベースなし

- セキュリティ事故を防止するために、認証やユーザー管理は実装しない
- 回復不能なバグやセキュリティ事故を防止するために、サーバーサイドでは状態を持たず、データベースを使用しない
- ただし、クライアントサイドでは、必要に応じてローカルストレージを使用してよい

## 3. シンプルで一貫したコンポーネント設計

- 関心の分離を徹底する
- コンポーネントは狭く、読みやすく、独立してテスト可能に保つ
- 副作用を最小限に抑える
- コードベース全体で一貫性のある設計をする

## 4. 可読性を高く保つ

- コメントでコードの「なぜ」を説明する（「何を」はコードが説明する）
- マジックナンバーを避け、名前付き定数を使用する
- 関数や変数の命名は、多少長くなったとしても意図を明確に伝えるものにする

## 5. 型安全の徹底

- TypeScriptの型システムを最大限に活用する
- `any` の使用を避け、適切な型を定義する
- 関数の引数と戻り値の型を明示する
- とくに理由がなければ型エイリアスよりもインターフェースを優先する
