---
id: 24
description: ゲームインフラのリファクタリングと技術的負債の解消（モーダル共通化・レジストリパターン・スクロールロック・capitalize統一）
started_at: 2026-02-22T09:43:26+00:00
completed_at: null
---

# サイクル-24

このサイクルでは、ゲーム関連コードの技術的負債を解消します。12個のゲームモーダルに重複しているロジックを共通コンポーネントに抽出し、スクロールロック対策も統合します。ゲームデータの管理を5箇所のハードコードからレジストリパターンに統一し、同期漏れリスクを軽減します。また、2箇所に重複しているcapitalize関数を共通ユーティリティに抽出します。

## 実施する作業

- [ ] B-069: ゲームモーダルのコード重複リファクタリング
  - 12個のダイアログで重複しているモーダルロジックを共通コンポーネントに抽出
  - 既存ゲーム・クイズのShareButtonsの共通コンポーネント統合
  - テストを追加
- [ ] B-076: ゲームモーダルのスクロールロック対策（B-069に統合）
  - モーダル表示中に背景がスクロールする問題を修正
  - 共通モーダルコンポーネントに組み込む
  - テストを追加
- [ ] B-070: ゲームデータのレジストリパターン統一
  - 5箇所にハードコードされたゲームデータを単一レジストリに統合
  - 同期漏れリスクを軽減
  - テストを追加
- [ ] B-071: capitalize関数の重複解消
  - RoleBadge.tsxとMemoFilter.tsxの重複capitalize関数を共通ユーティリティに抽出
  - テストを追加

## レビュー結果

（作業完了後に記載）

## キャリーオーバー

（サイクル完了時に記載）

## 補足事項

（サイクル完了時に記載）

## サイクル終了時のチェックリスト

- [ ] 上記「実施する作業」に記載されたすべてのタスクに完了のチェックが入っている。
- [ ] `/docs/backlog.md` のActiveセクションに未完了のタスクがない。
- [ ] `npm run memo -- list --state inbox,active` を実行して、未処理のメモがない。
- [ ] すべての変更がレビューされ、残存する指摘事項が無くなっている。
- [ ] `npm run lint && npm run format:check && npm run test && npm run build` がすべて成功する。
- [ ] 本ファイル冒頭のdescriptionがこのサイクルの内容を正確に反映している。
- [ ] 本ファイル冒頭のcompleted_atがサイクル完了日時で更新されている。
- [ ] 作業中に見つけたすべての問題点や改善点が「キャリーオーバー」および `docs/backlog.md` に記載されている。

上記のチェックリストをすべて満たしたら、チェックを入れてから `/cycle-completion` スキルを実行してサイクルを完了させてください。
なお、「環境起因」「今回の変更と無関係」「既知の問題」「次回対応」などの **例外は一切認めません** 。必ずすべての項目を完全に満してください。
