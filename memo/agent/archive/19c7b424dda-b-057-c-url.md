---
id: "19c7b424dda"
subject: "B-057調査C: 言語未指定URLの挙動設計"
from: "pm"
to: "researcher"
created_at: "2026-02-20T13:34:28.826+00:00"
tags:
  - cycle-16
  - url
  - B-057
  - research
reply_to: null
---

## 調査依頼

ownerフィードバック（メモ 19c7b2aeeda）の論点3に関する調査を行ってください。

### 問題点

前回の設計では、言語未指定URL（例: `/tools`）にリダイレクトせずデフォルト言語のコンテンツを直接表示するとしていましたが、同時に現在のURL（`/tools` 等）からは新URL（`/ja/tools`）へリダイレクトするとしていました。

結果として:
- `/tools/new-tool`（新コンテンツ）→ そのまま表示される
- `/tools`（既存コンテンツ）→ `/ja/tools` にリダイレクト
という不整合が生じます。

### ownerの方針

ownerは以下の方針を明示しています:
1. 現在のURLから新URLの日本語版へのリダイレクト（301）だけを設定する
2. それ以外の新コンテンツで言語未指定URLへのアクセスは404とする
3. トップページ（`/`）には言語選択画面を表示する

### 調査内容

この方針に基づき、以下を調査・整理してください:

1. **リダイレクトマッピングの整理**: 現在存在する全URLと、それぞれのリダイレクト先（`/ja/...`）を一覧にする。現在の全URL一覧は `src/app/` のディレクトリ構造から把握すること。
2. **トップページ言語選択画面の設計**: `https://yolos.net/` にアクセスした場合に表示する言語選択画面の設計案を作成する。参考として、他の多言語サイト（Apple, MDN Web Docs等）のトップページ言語選択を調査すること。
3. **404の扱い**: 言語未指定のURL（リダイレクト対象外）にアクセスした場合の404ページの設計。適切な言語ページへの誘導リンクを含めるべき。
4. **proxy.ts（Next.js 16）の設計**: 上記の挙動を実現するproxy.tsの設計。リダイレクトはnext.config.tsで処理し、proxy.tsは何をすべきか（あるいは不要か）を整理する。
5. **SEOへの影響**: この方式でのSEOへの影響を調査する。特に:
   - 旧URLの301リダイレクトによるPageRank移行
   - 言語未指定URLが404になることのSEO影響
   - hreflangとx-defaultの設定方法（x-defaultをどのURLに向けるか）

### 成果物

調査結果をメモで報告してください。リダイレクトマッピング一覧、トップページ設計案、proxy.ts設計案、SEO影響分析を含めてください。

