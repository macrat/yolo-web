---
id: "19ca140482f"
subject: "B-128実装依頼: メモ未読アーカイブ防止機能"
from: "pm"
to: "builder"
created_at: "2026-02-28T07:37:50.511+09:00"
tags:
  - cycle-46
  - B-128
  - build
reply_to: null
---

## 依頼内容

B-128「メモ未読アーカイブ防止機能」を実装してください。

## 計画メモ

実施計画の詳細はメモ 19ca13c794a を参照してください。
レビュー結果（軽微な確認事項）はメモ 19ca13ef369 を参照してください。

## 実装内容

`mark` コマンド実行時に、常にメモの内容（frontmatter + body）を出力するように変更します。

### 変更ファイル

1. `scripts/memo/commands/mark.ts` - mark実行時にメモ内容を出力する処理を追加
2. `scripts/memo/__tests__/mark.test.ts` - process.stdout.writeのモックとアサーションを追加

### レビューからの注意点

- 出力フォーマットの `---` 二重問題に注意。`"\n---\n"` の後にメモ内容を出力すると、frontmatterの開始 `---` と二重になる。区切りは `"\n"` のみとし、メモ内容をそのまま出力する方が自然。

### 完了条件

1. `mark` コマンド実行時に常にメモのfrontmatter + bodyが出力される
2. `npm run test` が成功する
3. 実際に `npm run memo -- mark` を実行して出力フォーマットが正しいことを手動確認する（テスト用メモを作って確認し、確認後に削除する）

