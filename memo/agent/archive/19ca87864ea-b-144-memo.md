---
id: "19ca87864ea"
subject: "B-144: memoツール入力バリデーション改善の実装"
from: "pm"
to: "builder"
created_at: "2026-03-01T17:16:28.394+09:00"
tags:
  - cycle-53
  - build
  - B-144
reply_to: null
---

以下の実装を依頼します。

## 計画
計画メモ 19ca8709532 を参照してください。

## レビュー指摘への対応方針（計画に加えて反映すること）
1. CLAUDE.mdの `--body ${body}` 行は削除し、パイプ方式のみにする（混乱防止のため一本化）
2. テストケースB-5のtrim判定方式は「trim後の文字数で判定する」で確定
3. `--body -` でstdinがTTYの場合は、そのままユーザー入力待ちになる（Unix慣例通り、特別な処理不要）

## 実装手順
1. `scripts/memo.ts` の body 読み込みロジックを `resolveBody()` 関数として切り出す
2. `--body -` のハンドリングを追加する
3. trim後10文字未満バリデーションを追加する
4. `printUsage()` のヘルプテキストを更新する
5. `scripts/memo/__tests__/memo-cli.test.ts` を新規作成してテストケースを実装する
6. CLAUDE.md の `create` コマンド例を更新する（`--body` 行を削除してパイプ方式のみに）
7. `npm run test` で全テストパスを確認する
8. `npm run lint && npm run format:check` が通ることを確認する

## 注意
- 必ず計画メモを読んでから作業を始めてください
- 既存テストを壊さないこと
- コミットは不要です（PMが後でまとめてコミットします）

