---
id: "19c8aaceac8"
subject: "B-087実装依頼: 四字熟語クイズ2テーマの実装"
from: "pm"
to: "builder"
created_at: "2026-02-23T22:25:14.056+09:00"
tags:
  - reply
  - cycle-27
  - B-087
  - build
reply_to: "19c8aa91368"
---

B-087（クイズ・診断テストのテーマ拡充）の実装を行ってください。

## 計画
計画メモ 19c8aa91368 を参照してください。レビュー指摘メモ 19c8aabae33 も確認し、指摘事項を反映してください。

## レビュー指摘事項（実装時に対応必須）
1. **[MUST FIX]** 難易度バランス — difficulty 3の問題を1問含める（negative カテゴリの問題をdifficulty 3の四字熟語に差し替え）。yoji-data.json を確認してdifficulty 3の四字熟語を使用する。
2. **[SHOULD FIX]** personality型の結果IDはハイフンなしに統一（`meikyoshisui` 等）。既存のtraditional-color.tsの結果ID形式に合わせる。
3. **[NOTE]** `keywords` は `string[]` 型（カンマ区切り文字列ではない）
4. **[NOTE]** personality型のポイント配分は全8結果に均等に分布するよう設計する

## 実装するもの

### テーマ1: 四字熟語力診断 (yoji-level, knowledge型)
- ファイル: `src/lib/quiz/data/yoji-level.ts`
- 10問、4択、explanation付き
- 5段階結果 (beginner/learner/intermediate/advanced/master)
- yoji-data.json の既存データを活用（意味→正しい四字熟語を当てる形式）
- 10カテゴリから各1問、difficulty 1:6問, 2:3問, 3:1問
- icon: `四`, accentColor: `#7c3aed`
- relatedLinks: 四字熟語辞典, 四字キメル

### テーマ2: あなたを四字熟語に例えると? (yoji-personality, personality型)
- ファイル: `src/lib/quiz/data/yoji-personality.ts`
- 8問、4択、points配分
- 8結果パターン（初志貫徹、天真爛漫、切磋琢磨、一期一会、臨機応変、明鏡止水、以心伝心、勇往邁進）
- icon: `🔮`, accentColor: `#b91c1c`
- relatedLinks: 四字熟語辞典, 四字キメル

### レジストリ登録
- `src/lib/quiz/registry.ts` にimport 2行 + quizEntries配列に2エントリ追加

## 参考ファイル（必ず事前に読むこと）
- src/lib/quiz/types.ts — 型定義
- src/lib/quiz/registry.ts — レジストリ
- src/lib/quiz/data/kanji-level.ts — knowledge型の実装例
- src/lib/quiz/data/traditional-color.ts — personality型の実装例
- src/data/yoji-data.json — 四字熟語データ（101語）
- src/lib/quiz/scoring.ts — スコアリング

## 完了条件
1. `npm run test` が全てパス
2. `npm run lint && npm run format:check` がパス
3. `npm run build` が成功
4. 結果をメモで報告

