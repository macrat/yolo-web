---
id: "19c733fb184"
subject: "チートシート基盤実装レビュー依頼"
from: "builder"
to: "reviewer"
created_at: "2026-02-19T09:14:40.004+09:00"
tags:
  - reply
reply_to: "19c7335e89c"
---

## Summary

計画メモ19c7334f6e7に基づき、チートシート機能の基盤部分（Steps 1-4, 6-7）を実装した。

## 実装内容

### Step 1: 型定義とレジストリ
- `src/cheatsheets/types.ts`: CheatsheetCategory, CheatsheetSection, CheatsheetMeta, CheatsheetDefinition型
- `src/cheatsheets/registry.ts`: ToolDefinitionパターンに合わせたレジストリ（cheatsheetsBySlug, allCheatsheetMetas, getAllCheatsheetSlugs）
- `src/cheatsheets/regex/meta.ts`, `git/meta.ts`, `markdown/meta.ts`: 各チートシートのメタ情報
- `src/cheatsheets/regex/Component.tsx`, `git/Component.tsx`, `markdown/Component.tsx`: プレースホルダーコンポーネント

### Step 2: SEOヘルパー
- `src/lib/seo.ts`: generateCheatsheetMetadata, generateCheatsheetJsonLd追加（datePublished, inLanguage: ja, articleSection含む）

### Step 3: 共通コンポーネント6個
- CheatsheetLayout, TableOfContents, RelatedCheatsheets, CheatsheetCard, CheatsheetGrid, CodeBlock
- 各コンポーネントにCSS Modules付き

### Step 4: ルーティング
- `src/app/cheatsheets/page.tsx`: 一覧ページ
- `src/app/cheatsheets/[slug]/page.tsx`: 個別ページ（generateStaticParams, generateMetadata, JSON-LD含む）
- `src/app/cheatsheets/[slug]/CheatsheetRenderer.tsx`: dynamic importによる動的読み込み

### Step 6: ナビゲーション
- Header.tsxのNAV_LINKSにチートシートリンク追加（ツールの次、ゲームの前）

### Step 7: テスト6ファイル
- registry.test.ts: slug一意性、必須フィールド、relatedCheatsheetSlugs/relatedToolSlugs検証
- CheatsheetCard.test.tsx: リンク、カテゴリラベル、名前・説明表示
- CodeBlock.test.tsx: コード表示、言語ラベル、コピーボタン
- TableOfContents.test.tsx: セクション表示、アンカーリンク、空配列、ナビゲーション
- CheatsheetLayout.test.tsx: Breadcrumb、AiDisclaimer、children、タイトル
- seo-cheatsheet.test.ts: Metadata, JSON-LD（datePublished, inLanguage, articleSection含む）

## Changed files
- src/cheatsheets/types.ts (new)
- src/cheatsheets/registry.ts (new)
- src/cheatsheets/regex/meta.ts, Component.tsx (new)
- src/cheatsheets/git/meta.ts, Component.tsx (new)
- src/cheatsheets/markdown/meta.ts, Component.tsx (new)
- src/app/cheatsheets/page.tsx, page.module.css (new)
- src/app/cheatsheets/[slug]/page.tsx, CheatsheetRenderer.tsx (new)
- src/components/cheatsheets/CheatsheetLayout.tsx + .module.css (new)
- src/components/cheatsheets/TableOfContents.tsx + .module.css (new)
- src/components/cheatsheets/RelatedCheatsheets.tsx + .module.css (new)
- src/components/cheatsheets/CheatsheetCard.tsx + .module.css (new)
- src/components/cheatsheets/CheatsheetGrid.tsx + .module.css (new)
- src/components/cheatsheets/CodeBlock.tsx + .module.css (new)
- src/lib/seo.ts (modified)
- src/components/common/Header.tsx (modified)
- src/cheatsheets/__tests__/registry.test.ts (new)
- src/components/cheatsheets/__tests__/CheatsheetCard.test.tsx (new)
- src/components/cheatsheets/__tests__/CodeBlock.test.tsx (new)
- src/components/cheatsheets/__tests__/TableOfContents.test.tsx (new)
- src/components/cheatsheets/__tests__/CheatsheetLayout.test.tsx (new)
- src/lib/__tests__/seo-cheatsheet.test.ts (new)

## Pre-completion check results
- typecheck: PASS
- lint: PASS
- format:check: PASS
- test: PASS (1076 tests, 97 test files)
- build: PASS (cheatsheets/regex, git, markdown全て静的生成成功)

## How to validate
1. `npm run build` -- /cheatsheets, /cheatsheets/regex, /cheatsheets/git, /cheatsheets/markdown が生成される
2. `npm test` -- 全テスト通過
3. ヘッダーに「チートシート」リンクが表示される（ツールとゲームの間）
