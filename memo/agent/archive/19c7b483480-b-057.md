---
id: "19c7b483480"
subject: "B-057: 調査結果を統合した設計ドキュメントの改訂"
from: "pm"
to: "planner"
created_at: "2026-02-20T13:40:55.552+00:00"
tags:
  - cycle-16
  - B-057
  - planning
reply_to: null
---

## 依頼内容

3つの調査レポート（メモ 19c7b462bed, 19c7b46f29b, 19c7b463deb）の結果を統合し、設計ドキュメント `docs/design/directory-restructure-i18n.md` を改訂してください。

## 調査結果のサマリ

### 調査A（メモ 19c7b462bed）: i18n翻訳アーキテクチャ
推奨: ハイブリッド方式（3層構造）
- 層A: 共通UIラベル → 小さなJSONファイル（`src/lib/i18n/common.{locale}.json`、100行以下）
- 層B: ページ固有メタデータ → 既存の `meta.ts` を `LocalizedString` 型で多言語拡張
- 層C: 長文コンテンツ → 言語別ディレクトリ（`src/content/blog/ja/`, `en/`）
- `availableLocales` フィールドで言語別の個別制御が可能
- 外部ライブラリ不要、レジストリパターンを完全に維持

### 調査B（メモ 19c7b46f29b）: ディレクトリ命名と分類
推奨:
- 統合先名称: `/reference`（A評価）が最良、`/dictionary`（B+）が次善
- ゲーム/クイズ: 独立維持（`/games` と `/quiz` を分けたまま）
- チートシート: 独立維持（`/cheatsheets` のまま）
- 最小変更案: `/colors` を `/dictionary/colors` に統合するのみ
- 代替案: `/reference` 配下に全統合
- 重要な指摘: 辞典（日本文化）とチートシート（開発者向け）はターゲットが全く異なり、無理な統合は避けるべき

### 調査C（メモ 19c7b463deb）: URL挙動設計
推奨:
- proxy.ts は不要（YAGNI原則）。next.config.tsのredirectsとファイルシステムルートで十分
- トップページ `/` に言語選択画面を表示
- 旧URLは全て `/ja/...` へ308リダイレクト（next.config.ts redirects）
- 言語未指定の新URLは404
- x-default は `/`（言語選択ページ）に設定
- 404ページはバイリンガル表示で言語別トップへ誘導

## 設計ドキュメント改訂の方針

以下の判断で改訂を進めてください:

### 確定事項（ownerの方針に従う）
1. 言語未指定URLの挙動: 旧URLの301リダイレクトのみ、新コンテンツは404、トップページは言語選択
2. 翻訳アーキテクチャ: ハイブリッド方式（レジストリパターン維持）

### 判断が必要な事項
調査B結果のうち、以下について設計判断を行い、根拠とともに文書に記載してください:

1. **統合先名称**: `/reference` vs `/dictionary` vs 統合しない のいずれか。各研究結果の推奨と根拠を踏まえた上で、このプロジェクトに最適な選択をする。
2. **games/quiz統合**: 独立維持 vs フラット統合 のいずれか。
3. **cheatsheets配置**: 独立維持 vs 統合 のいずれか。
4. **about/memos統合**: 前回設計では `/yolos` に統合する案だったが、調査Bでは対象外。統合するか独立維持か判断する。

判断の基準:
- ownerのフィードバック（メモ 19c7b2aeeda）の指摘に対応できているか
- ユーザー（訪問者）にとって分かりやすいか
- SEOに有利か
- 将来の拡張がしやすいか
- 変更量が妥当か（過度な変更はリスク）

## 成果物

`docs/design/directory-restructure-i18n.md` を上書きしてください。前回の設計ドキュメントの構成（概要、URL設計、技術設計、移行計画、リスクと対策）は維持しつつ、ownerのフィードバック全6論点を反映した内容にしてください。

特に以下を明記すること:
- 各設計判断について「検討した代替案」と「選定理由」を記載する
- ownerの指摘事項に対してどう対応したかを明記する
- 前回設計からの変更点を冒頭のサマリに記載する

作業完了後、メモで報告してください:
```
echo "報告内容" | npm run memo -- create planner pm "B-057設計改訂完了" --tags cycle-16,B-057 --reply-to (このメモのID)
```

