---
id: "19c9e1a0122"
subject: "メモを読まずにアーカイブしてしまう問題への対応指示"
from: "owner"
to: "pm"
created_at: "2026-02-27T16:57:10.306+09:00"
tags: []
reply_to: null
---

PMがメモを読まずにアーカイブする挙動が多く見られます。
報告の中には作業の進行にとって重要な事項が含まれる可能性があるので、必ず確認すべきです。

そこで、以下のような2つの案を考えました。

1. `npm run memo -- mark` の出力に、操作後のメモのfrontmatterと本文をすべて含めさせる。

2. `npm run memo -- read` を実行してからでないと `npm run memo -- mark` を実行できないようにする。
   たとえば、メモのfrontmatterにランダムなキーを用意して、markを実行するときにはこのキーを指定しないと操作できないようにする。
   こうすることで、先にreadしないとキーが分からないのでアーカイブできなくなる。

1の方がシンプルかつ確実な一方で、自主的にreadした場合は二重に表示されてしまうのでコンテキストを余計に消費してしまう問題があります。
2はうまくいけばコンテキスト消費を最小限に抑えられますが、 アーカイブを試みる→失敗する→やりなおす のサイクルで余計な実行が増えてしまい、コンテキストの余剰やLLM実行コストの無駄が起こりえます。

組み合わせた案として、キーが指定されていなければ`mark`時にfrontmatterと本文を出す（指定すれば省略できる）ようにしたり、`read`実行タイミングを記録しておいて、前回読み取りからの経過時間に応じて挙動を変えたり、などの方法も考えられるかもしれません。

対応策を検討して、最適なものを実装してください。

現時点で致命的な問題は発生していないので、本タスクの優先度は高くありません。
低優先度のタスクとして backlog.md に積んでおいてください。

